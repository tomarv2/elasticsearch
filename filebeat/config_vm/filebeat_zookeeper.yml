zk.home: /var/log/zookeeper

filebeat.prospectors:
- type: log
  # zookeeper log files prospector
  paths:
    - ${zk.home}/*.out
  # match multiline events
  multiline.pattern: '^\['
  multiline.negate: true
  multiline.match: after
  # configure pipeline
  fields.pipeline: zookeeper-logs

output:
  elasticsearch:
    hosts: ["es.xyz.com:80"]
    pipeline: '%{[fields.pipeline]}'
    bulk_max_body_size: 10M
    bulk_max_size: 50
    indices:
      - index: "zookeeper-logs-%{+yyyy.MM.dd}"
#        pipeline: parse_zookeeper_log
        template:
          - name: zookeeper-logs-template
          - path: zookeeper-logs.template.json
